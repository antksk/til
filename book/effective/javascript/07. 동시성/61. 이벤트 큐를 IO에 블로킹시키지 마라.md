## 61. 이벤트 큐를 IO에 블로킹시키지 마라.

자바스크립트는 실행 즉시 완료됨을 보장하는 방식을 사용하는 이에 대한 이점은,
코드가 실행될 때 애플리케이션 상태에 대한 제어를 완료 했다는 사실을 알게 된다는 점이다.
어떤 변수나 객체 프로퍼티가 동시에 실행되는 코드 때문에 변경되는지 신경 쓸 필요가 없다.
이 때문에 자바스크립트에서의 동시성 프로그래밍이 스레드와 락으로 처리하는 
C++, Java, C# 같은 언어 보다 휠씬 쉽게 느껴지게 된다.

이와는 반대로, 실행 즉시 완료되는 코드의 단점은 작성한 코드 때문에 애플리케이션의 나머지 부분이
실행되지 못한다는 점이다. 브라우저같은 인터랙티브한 애플리케이션에서 블로킹된 이벤트 핸들러는 
모든 다른 사용자 입력이 처리되지 못하게 막고, 페이지의 렌더링을 방해할수 있으며, 사용자 경험에 반응하지 않는 상태를
초래 할수도 있다.

대조적으로, 비동기 API는 이벤트 기반 설정에서 안전하게 사용할수있다. 왜냐하면 애플리케이션 로직이
이벤트 루프의 "턴(turn)"에서 계속해서 처리될수 있게 해주기 때문이다.


(Effective JavaScript 226p ~ 228p 참조)


> __기억할 점__
> * 비동기 API는 많은 비용이 드는 연산의 처리를 뒤로 미루기 위해 콜백을 받아서 메인 애플리케이션의 블로킹을 막는다.
> * 자바스크립트는 이벤트를 동시에 받아들이지만 이벤트 핸들러는 이벤트 큐를 사용해 순서대로 처리한다.
> * 애플리케이션의 이벤트 큐에서는 절대 블로키 I/O를 사용하지 마라.

